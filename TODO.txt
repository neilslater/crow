TODO:

Crow follow ups:

  * Specs - How to do test at all?
    * libdef - moderate complexity build

  * Templates for spec files of target system
    * Start with assertions that classes exist (done)
    * Instantiate using parameters (done)

  * Add validation rules for parameters, and use to generate minimal test instantiations

  * Factor templates into partials and functions
    * Add concept of "needs" to cover requirement to declare and populate temp vars for shapes, pointers etc
    * Allow for difference between pre-initialisation and needs and instantiated needs
    * Allow for getting data from NArrays or caching it in named var
    * Have explicit shape/size var for pointers?

  * Factor end C code into generated and "user" parts

  * bool vars - add <stdbool.h>

  * Template pointers as read/write from Ruby (requires associated shape)

  * Automated support for Marshal

  * Allow writable NArrays?

  * Allow NArrays as input and use them for initialisers

  * Allow other structs as input and unwrap them

  * Add ruby class initialisers to their .h files (so classes can init other classes)

  * Support changes to structs/classes without breaking added code (also adding new structs...)

  * Allow short struct pointer names

  * Allow non-allocated pointers

  * enum variable type

  * Public attribute names != struct attribute names

  * Validating init params (use temp vars to unpack and test)

  * Validating/casting NArray inputs on Ruby class level

  * Support for Marshal serialise via hash

  * Taking named hash params for Ruby init

  * Build from a YAML definition

  * Init params automatically generated from any item with init_expr='*'

  * More pre-built utilities:
    * Sorting, shuffling, random numbers
    *
